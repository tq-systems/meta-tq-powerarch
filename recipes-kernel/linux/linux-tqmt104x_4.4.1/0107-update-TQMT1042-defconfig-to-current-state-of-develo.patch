From da8275e2aaa9fa98e841589024d6d51996ed2ab1 Mon Sep 17 00:00:00 2001
From: Stefan Lange <s.lange@gateware.de>
Date: Thu, 7 Apr 2016 09:54:02 +0200
Subject: [PATCH] update TQMT1042 defconfig to current state of development

---
 arch/powerpc/configs/85xx/tqmt1042_defconfig | 78 +++++++++++++++++++++++++---
 1 file changed, 72 insertions(+), 6 deletions(-)

diff --git a/arch/powerpc/configs/85xx/tqmt1042_defconfig b/arch/powerpc/configs/85xx/tqmt1042_defconfig
index d57d646..64b8392 100644
--- a/arch/powerpc/configs/85xx/tqmt1042_defconfig
+++ b/arch/powerpc/configs/85xx/tqmt1042_defconfig
@@ -63,6 +63,7 @@ CONFIG_GENERIC_BUG=y
 # CONFIG_EPAPR_BOOT is not set
 CONFIG_DEFAULT_UIMAGE=y
 CONFIG_ARCH_HIBERNATION_POSSIBLE=y
+CONFIG_ARCH_SUSPEND_POSSIBLE=y
 # CONFIG_PPC_DCR_NATIVE is not set
 # CONFIG_PPC_DCR_MMIO is not set
 CONFIG_ARCH_SUPPORTS_DEBUG_PAGEALLOC=y
@@ -301,13 +302,14 @@ CONFIG_ARCH_SUPPORTS_ATOMIC_RMW=y
 CONFIG_MUTEX_SPIN_ON_OWNER=y
 CONFIG_RWSEM_SPIN_ON_OWNER=y
 CONFIG_LOCK_SPIN_ON_OWNER=y
-# CONFIG_FREEZER is not set
+CONFIG_FREEZER=y
 CONFIG_PPC_MSI_BITMAP=y
 # CONFIG_PPC_XICS is not set
 # CONFIG_PPC_ICP_NATIVE is not set
 # CONFIG_PPC_ICP_HV is not set
 # CONFIG_PPC_ICS_RTAS is not set
 # CONFIG_GE_FPGA is not set
+CONFIG_FSL_CORENET_RCPM=y
 
 #
 # Platform support
@@ -347,6 +349,7 @@ CONFIG_FSL_SOC_BOOKE=y
 # CONFIG_MVME2500 is not set
 # CONFIG_PPC_QEMU_E500 is not set
 CONFIG_CORENET_GENERIC=y
+CONFIG_FSL_QORIQ_PM=y
 # CONFIG_KVM_GUEST is not set
 CONFIG_EPAPR_PARAVIRT=y
 CONFIG_PPC_SMP_MUXED_IPI=y
@@ -406,6 +409,8 @@ CONFIG_HUGETLB_PAGE_SIZE_VARIABLE=y
 # CONFIG_MATH_EMULATION is not set
 CONFIG_IOMMU_HELPER=y
 CONFIG_SWIOTLB=y
+CONFIG_HOTPLUG_CPU=y
+CONFIG_ARCH_CPU_PROBE_RELEASE=y
 CONFIG_ARCH_ENABLE_MEMORY_HOTPLUG=y
 CONFIG_ARCH_HAS_WALK_MEMORY=y
 CONFIG_ARCH_ENABLE_MEMORY_HOTREMOVE=y
@@ -442,8 +447,25 @@ CONFIG_FORCE_MAX_ZONEORDER=13
 # CONFIG_PPC_COPRO_BASE is not set
 # CONFIG_CMDLINE_BOOL is not set
 CONFIG_EXTRA_TARGETS=""
-# CONFIG_HIBERNATION is not set
-# CONFIG_PM is not set
+CONFIG_SUSPEND=y
+CONFIG_SUSPEND_FREEZER=y
+# CONFIG_SUSPEND_SKIP_SYNC is not set
+CONFIG_HIBERNATE_CALLBACKS=y
+CONFIG_HIBERNATION=y
+CONFIG_PM_STD_PARTITION=""
+CONFIG_PM_SLEEP=y
+CONFIG_PM_SLEEP_SMP=y
+# CONFIG_PM_AUTOSLEEP is not set
+CONFIG_PM_WAKELOCKS=y
+CONFIG_PM_WAKELOCKS_LIMIT=100
+CONFIG_PM_WAKELOCKS_GC=y
+CONFIG_PM=y
+CONFIG_PM_DEBUG=y
+CONFIG_PM_ADVANCED_DEBUG=y
+# CONFIG_PM_TEST_SUSPEND is not set
+CONFIG_PM_SLEEP_DEBUG=y
+CONFIG_PM_CLK=y
+# CONFIG_WQ_POWER_EFFICIENT_DEFAULT is not set
 CONFIG_SECCOMP=y
 CONFIG_ISA_DMA_API=y
 
@@ -467,6 +489,7 @@ CONFIG_PCIEAER=y
 # CONFIG_PCIE_ECRC is not set
 # CONFIG_PCIEAER_INJECT is not set
 # CONFIG_PCIEASPM is not set
+CONFIG_PCIE_PME=y
 CONFIG_PCI_BUS_ADDR_T_64BIT=y
 CONFIG_PCI_MSI=y
 # CONFIG_PCI_DEBUG is not set
@@ -694,6 +717,7 @@ CONFIG_ALLOW_DEV_COREDUMP=y
 # CONFIG_GENERIC_CPU_DEVICES is not set
 CONFIG_REGMAP=y
 CONFIG_REGMAP_I2C=y
+CONFIG_REGMAP_MMIO=y
 # CONFIG_DMA_SHARED_BUFFER is not set
 
 #
@@ -1207,6 +1231,9 @@ CONFIG_FSL_FMAN=y
 CONFIG_FSL_PQ_MDIO=y
 CONFIG_FSL_XGMAC_MDIO=y
 # CONFIG_GIANFAR is not set
+CONFIG_FSL_DPAA_ETH=y
+CONFIG_FSL_DPAA_ETH_USE_NDO_SELECT_QUEUE=y
+CONFIG_FSL_DPAA_ETH_FRIENDLY_IF_NAME=y
 CONFIG_NET_VENDOR_HP=y
 # CONFIG_HP100 is not set
 CONFIG_NET_VENDOR_INTEL=y
@@ -1472,6 +1499,7 @@ CONFIG_TTY=y
 CONFIG_VT=y
 CONFIG_CONSOLE_TRANSLATIONS=y
 CONFIG_VT_CONSOLE=y
+CONFIG_VT_CONSOLE_SLEEP=y
 CONFIG_HW_CONSOLE=y
 CONFIG_VT_HW_CONSOLE_BINDING=y
 CONFIG_UNIX98_PTYS=y
@@ -1815,6 +1843,7 @@ CONFIG_SENSORS_LM90=y
 # CONFIG_SENSORS_NCT7904 is not set
 # CONFIG_SENSORS_PCF8591 is not set
 # CONFIG_PMBUS is not set
+# CONFIG_SENSORS_PWM_FAN is not set
 # CONFIG_SENSORS_SHT15 is not set
 # CONFIG_SENSORS_SHT21 is not set
 # CONFIG_SENSORS_SHTC1 is not set
@@ -2055,10 +2084,13 @@ CONFIG_LCD_CLASS_DEVICE=y
 # CONFIG_LCD_HX8357 is not set
 CONFIG_BACKLIGHT_CLASS_DEVICE=m
 CONFIG_BACKLIGHT_GENERIC=m
+# CONFIG_BACKLIGHT_PWM is not set
 # CONFIG_BACKLIGHT_PM8941_WLED is not set
 # CONFIG_BACKLIGHT_ADP8860 is not set
 # CONFIG_BACKLIGHT_ADP8870 is not set
+# CONFIG_BACKLIGHT_LM3630A is not set
 # CONFIG_BACKLIGHT_LM3639 is not set
+# CONFIG_BACKLIGHT_LP855X is not set
 # CONFIG_BACKLIGHT_GPIO is not set
 # CONFIG_BACKLIGHT_LV5207LP is not set
 # CONFIG_BACKLIGHT_BD6107 is not set
@@ -2184,6 +2216,7 @@ CONFIG_USB_ANNOUNCE_NEW_DEVICES=y
 #
 CONFIG_USB_DEFAULT_PERSIST=y
 # CONFIG_USB_DYNAMIC_MINORS is not set
+# CONFIG_USB_OTG is not set
 # CONFIG_USB_OTG_WHITELIST is not set
 # CONFIG_USB_OTG_BLACKLIST_HUB is not set
 # CONFIG_USB_ULPI_BUS is not set
@@ -2514,6 +2547,7 @@ CONFIG_COMMON_CLK=y
 # CONFIG_COMMON_CLK_SI570 is not set
 # CONFIG_COMMON_CLK_CDCE925 is not set
 CONFIG_CLK_QORIQ=y
+# CONFIG_COMMON_CLK_PWM is not set
 # CONFIG_COMMON_CLK_PXA is not set
 # CONFIG_COMMON_CLK_CDCE706 is not set
 
@@ -2544,9 +2578,39 @@ CONFIG_CLK_QORIQ=y
 #
 # SOC (System On Chip) specific Drivers
 #
+
+#
+# Freescale SOC (System On Chip) specific Drivers
+#
+CONFIG_FSL_DPA=y
+CONFIG_FSL_DPA_CHECKING=y
+CONFIG_FSL_BMAN=y
+CONFIG_FSL_BMAN_PORTAL=y
+CONFIG_FSL_BMAN_DEBUGFS=y
+CONFIG_FSL_BMAN_TEST=y
+CONFIG_FSL_BMAN_TEST_API=y
+CONFIG_FSL_BMAN_TEST_THRESH=y
+CONFIG_FSL_QMAN=y
+CONFIG_FSL_QMAN_CONFIG=y
+# CONFIG_FSL_QMAN_TEST is not set
+CONFIG_FSL_QMAN_DEBUGFS=y
+CONFIG_FSL_QMAN_INIT_TIMEOUT=10
 # CONFIG_SUNXI_SRAM is not set
 # CONFIG_SOC_TI is not set
-# CONFIG_PM_DEVFREQ is not set
+CONFIG_PM_DEVFREQ=y
+
+#
+# DEVFREQ Governors
+#
+# CONFIG_DEVFREQ_GOV_SIMPLE_ONDEMAND is not set
+# CONFIG_DEVFREQ_GOV_PERFORMANCE is not set
+# CONFIG_DEVFREQ_GOV_POWERSAVE is not set
+# CONFIG_DEVFREQ_GOV_USERSPACE is not set
+
+#
+# DEVFREQ Drivers
+#
+# CONFIG_PM_DEVFREQ_EVENT is not set
 # CONFIG_EXTCON is not set
 CONFIG_MEMORY=y
 CONFIG_FSL_CORENET_CF=y
@@ -2554,7 +2618,10 @@ CONFIG_FSL_IFC=y
 # CONFIG_IIO is not set
 # CONFIG_NTB is not set
 # CONFIG_VME_BUS is not set
-# CONFIG_PWM is not set
+CONFIG_PWM=y
+CONFIG_PWM_SYSFS=y
+CONFIG_PWM_FSL_FTM=y
+# CONFIG_PWM_PCA9685 is not set
 CONFIG_IRQCHIP=y
 # CONFIG_IPACK_BUS is not set
 # CONFIG_RESET_CONTROLLER is not set
@@ -2891,7 +2958,6 @@ CONFIG_DEBUG_KERNEL=y
 # Memory Debugging
 #
 # CONFIG_PAGE_EXTENSION is not set
-# CONFIG_DEBUG_PAGEALLOC is not set
 # CONFIG_DEBUG_OBJECTS is not set
 # CONFIG_DEBUG_SLAB is not set
 CONFIG_HAVE_DEBUG_KMEMLEAK=y
-- 
1.9.1

